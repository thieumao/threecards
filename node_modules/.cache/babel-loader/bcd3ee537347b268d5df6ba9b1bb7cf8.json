{"ast":null,"code":"import _slicedToArray from\"/Users/thieunguyen/Desktop/Project/ReactJS/web-ets-2020/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import _taggedTemplateLiteral from\"/Users/thieunguyen/Desktop/Project/ReactJS/web-ets-2020/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteral\";function _templateObject3(){var data=_taggedTemplateLiteral([\"\\n  padding: 10px;\\n\"]);_templateObject3=function _templateObject3(){return data;};return data;}function _templateObject2(){var data=_taggedTemplateLiteral([\"\\n  font-size: 12px;\\n  color: \",\";\\n  margin: 4px;\\n\"]);_templateObject2=function _templateObject2(){return data;};return data;}function _templateObject(){var data=_taggedTemplateLiteral([\"\\n  border-bottom-color: \",\";\\n  border-bottom-width: 1px;\\n  height: 50px;\\n  flex-direction: row;\\n  justify-content: center;\\n  align-items: center;\\n\"]);_templateObject=function _templateObject(){return data;};return data;}import React,{useState,useRef}from'react';import Slider from'react-input-slider';import styled from'styled-components/native';import Colors from'theme/colors';import Fonts from'theme/fonts';import{IoMdPlay,IoMdPause}from'react-icons/io';var Container=styled.View(_templateObject(),Colors.DIVIDER);var Text=styled(Fonts.Normal)(_templateObject2(),Colors.MAIN_COLOR);var Button=styled.TouchableOpacity(_templateObject3());var AudioPlayer=function AudioPlayer(_ref){var audioPath=_ref.audioPath,play=_ref.play;var audioRef=useRef();var _useState=useState(0),_useState2=_slicedToArray(_useState,2),currentTime=_useState2[0],setCurrentTime=_useState2[1];var _useState3=useState(0),_useState4=_slicedToArray(_useState3,2),duration=_useState4[0],setDuration=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),isPlay=_useState6[0],setPlay=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),x=_useState8[0],setX=_useState8[1];var handleLoadedData=function handleLoadedData(){setPlay(play);if(play){audioRef.current.play();}else{audioRef.current.pause();}};var onTimeUpdate=function onTimeUpdate(){setCurrentTime(audioRef.current.currentTime);setDuration(audioRef.current.duration);};var onPlay=function onPlay(){if(isPlay){setPlay(false);audioRef.current.pause();}else{setPlay(true);audioRef.current.play();}};return/*#__PURE__*/React.createElement(Container,null,!isPlay&&/*#__PURE__*/React.createElement(Button,{onPress:onPlay},/*#__PURE__*/React.createElement(IoMdPlay,{color:Colors.MAIN_COLOR,size:20})),isPlay&&/*#__PURE__*/React.createElement(Button,{onPress:onPlay},/*#__PURE__*/React.createElement(IoMdPause,{color:Colors.MAIN_COLOR,size:20})),/*#__PURE__*/React.createElement(Text,null,\"\".concat(Math.round(currentTime))),/*#__PURE__*/React.createElement(\"audio\",{style:{marginHorizontal:16,paddingHorizontal:16},ref:audioRef,src:audioPath,onLoadedData:handleLoadedData,onTimeUpdate:onTimeUpdate,onEnded:function onEnded(){return setPlay(false);}}),/*#__PURE__*/React.createElement(Slider,{style:{flex:1,height:12,margin:8},xmin:0,xmax:duration,axis:\"x\",x:currentTime,onChange:function onChange(_ref2){var x=_ref2.x;return setX(currentTime);}}),/*#__PURE__*/React.createElement(Text,null,\"\".concat(Math.round(duration))));};export default AudioPlayer;","map":{"version":3,"sources":["/Users/thieunguyen/Desktop/Project/ReactJS/web-ets-2020/src/components/AudioPlayer/index.js"],"names":["React","useState","useRef","Slider","styled","Colors","Fonts","IoMdPlay","IoMdPause","Container","View","DIVIDER","Text","Normal","MAIN_COLOR","Button","TouchableOpacity","AudioPlayer","audioPath","play","audioRef","currentTime","setCurrentTime","duration","setDuration","isPlay","setPlay","x","setX","handleLoadedData","current","pause","onTimeUpdate","onPlay","Math","round","marginHorizontal","paddingHorizontal","flex","height","margin"],"mappings":"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","sourcesContent":["import React, { useState, useRef } from 'react';\nimport Slider from 'react-input-slider';\nimport styled from 'styled-components/native';\nimport Colors from  'theme/colors';\nimport Fonts from 'theme/fonts';\nimport { IoMdPlay, IoMdPause } from 'react-icons/io';\n\nconst Container = styled.View`\n  border-bottom-color: ${Colors.DIVIDER};\n  border-bottom-width: 1px;\n  height: 50px;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n`;\n\nconst Text = styled(Fonts.Normal)`\n  font-size: 12px;\n  color: ${Colors.MAIN_COLOR};\n  margin: 4px;\n`;\n\nconst Button = styled.TouchableOpacity`\n  padding: 10px;\n`;\n\nconst AudioPlayer = ({ audioPath, play }) => {\n  const audioRef = useRef();\n  const [currentTime, setCurrentTime] = useState(0);\n  const [duration, setDuration] = useState(0);\n  const [isPlay, setPlay] = useState(false);\n  const [x, setX] = useState(0);\n\n  const handleLoadedData = () => {\n    setPlay(play);\n    if (play) {\n      audioRef.current.play();\n    } else {\n      audioRef.current.pause();\n    }\n  };\n\n  const onTimeUpdate = () => {\n    setCurrentTime(audioRef.current.currentTime);\n    setDuration(audioRef.current.duration);\n  };\n\n  const onPlay = () => {\n    if (isPlay) {\n      setPlay(false);\n      audioRef.current.pause();\n    } else {\n      setPlay(true);\n      audioRef.current.play();\n    }\n  };\n\n  return (\n    <Container>\n      {!isPlay && (\n        <Button onPress={onPlay}>\n          <IoMdPlay color={Colors.MAIN_COLOR} size={20} />\n        </Button>\n      )}\n      {isPlay && (\n        <Button onPress={onPlay}>\n          <IoMdPause color={Colors.MAIN_COLOR} size={20} />\n        </Button>\n      )}\n      <Text>{`${Math.round(currentTime)}`}</Text>\n      <audio\n        style={{marginHorizontal: 16, paddingHorizontal: 16}}\n        ref={audioRef}\n        src={audioPath}\n        onLoadedData={handleLoadedData}\n        onTimeUpdate={onTimeUpdate}\n        onEnded={() => setPlay(false)}\n      />\n      <Slider\n        style={{flex: 1, height: 12, margin: 8}}\n        xmin={0}\n        xmax={duration}\n        axis=\"x\"\n        x={currentTime}\n        onChange={({ x }) => setX(currentTime)}\n      />\n      <Text>{`${Math.round(duration)}`}</Text>\n    </Container>\n  );\n};\n\nexport default AudioPlayer;\n"]},"metadata":{},"sourceType":"module"}