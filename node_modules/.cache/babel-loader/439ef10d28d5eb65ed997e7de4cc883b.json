{"ast":null,"code":"import { KEY_PREFIX } from './constants';\nexport default function purgeStoredState(config, keys) {\n  var storage = config.storage;\n  var keyPrefix = config.keyPrefix !== undefined ? config.keyPrefix : KEY_PREFIX; // basic validation\n\n  if (Array.isArray(config)) throw new Error('redux-persist: purgeStoredState requires config as a first argument (found array). An array of keys is the optional second argument.');\n  if (!storage) throw new Error('redux-persist: config.storage required in purgeStoredState');\n\n  if (typeof keys === 'undefined') {\n    // if keys is not defined, purge all keys\n    return new Promise(function (resolve, reject) {\n      storage.getAllKeys(function (err, allKeys) {\n        if (err) {\n          if (process.env.NODE_ENV !== 'production') console.warn('redux-persist: error during purgeStoredState in storage.getAllKeys');\n          reject(err);\n        } else {\n          resolve(purgeStoredState(config, allKeys.filter(function (key) {\n            return key.indexOf(keyPrefix) === 0;\n          }).map(function (key) {\n            return key.slice(keyPrefix.length);\n          })));\n        }\n      });\n    });\n  } else {\n    // otherwise purge specified keys\n    return Promise.all(keys.map(function (key) {\n      return storage.removeItem('' + keyPrefix + key, warnIfRemoveError(key));\n    }));\n  }\n}\n\nfunction warnIfRemoveError(key) {\n  return function removeError(err) {\n    if (err && process.env.NODE_ENV !== 'production') {\n      console.warn('Error storing data for key:', key, err);\n    }\n  };\n}","map":{"version":3,"sources":["/Users/thieunguyen/Desktop/Project/ReactJS/threecards/node_modules/redux-offline/node_modules/redux-persist/es/purgeStoredState.js"],"names":["KEY_PREFIX","purgeStoredState","config","keys","storage","keyPrefix","undefined","Array","isArray","Error","Promise","resolve","reject","getAllKeys","err","allKeys","process","env","NODE_ENV","console","warn","filter","key","indexOf","map","slice","length","all","removeItem","warnIfRemoveError","removeError"],"mappings":"AAAA,SAASA,UAAT,QAA2B,aAA3B;AAEA,eAAe,SAASC,gBAAT,CAA0BC,MAA1B,EAAkCC,IAAlC,EAAwC;AACrD,MAAIC,OAAO,GAAGF,MAAM,CAACE,OAArB;AACA,MAAIC,SAAS,GAAGH,MAAM,CAACG,SAAP,KAAqBC,SAArB,GAAiCJ,MAAM,CAACG,SAAxC,GAAoDL,UAApE,CAFqD,CAIrD;;AACA,MAAIO,KAAK,CAACC,OAAN,CAAcN,MAAd,CAAJ,EAA2B,MAAM,IAAIO,KAAJ,CAAU,sIAAV,CAAN;AAC3B,MAAI,CAACL,OAAL,EAAc,MAAM,IAAIK,KAAJ,CAAU,4DAAV,CAAN;;AAEd,MAAI,OAAON,IAAP,KAAgB,WAApB,EAAiC;AAC/B;AACA,WAAO,IAAIO,OAAJ,CAAY,UAAUC,OAAV,EAAmBC,MAAnB,EAA2B;AAC5CR,MAAAA,OAAO,CAACS,UAAR,CAAmB,UAAUC,GAAV,EAAeC,OAAf,EAAwB;AACzC,YAAID,GAAJ,EAAS;AACP,cAAIE,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAA7B,EAA2CC,OAAO,CAACC,IAAR,CAAa,oEAAb;AAC3CR,UAAAA,MAAM,CAACE,GAAD,CAAN;AACD,SAHD,MAGO;AACLH,UAAAA,OAAO,CAACV,gBAAgB,CAACC,MAAD,EAASa,OAAO,CAACM,MAAR,CAAe,UAAUC,GAAV,EAAe;AAC7D,mBAAOA,GAAG,CAACC,OAAJ,CAAYlB,SAAZ,MAA2B,CAAlC;AACD,WAFgC,EAE9BmB,GAF8B,CAE1B,UAAUF,GAAV,EAAe;AACpB,mBAAOA,GAAG,CAACG,KAAJ,CAAUpB,SAAS,CAACqB,MAApB,CAAP;AACD,WAJgC,CAAT,CAAjB,CAAP;AAKD;AACF,OAXD;AAYD,KAbM,CAAP;AAcD,GAhBD,MAgBO;AACL;AACA,WAAOhB,OAAO,CAACiB,GAAR,CAAYxB,IAAI,CAACqB,GAAL,CAAS,UAAUF,GAAV,EAAe;AACzC,aAAOlB,OAAO,CAACwB,UAAR,CAAmB,KAAKvB,SAAL,GAAiBiB,GAApC,EAAyCO,iBAAiB,CAACP,GAAD,CAA1D,CAAP;AACD,KAFkB,CAAZ,CAAP;AAGD;AACF;;AAED,SAASO,iBAAT,CAA2BP,GAA3B,EAAgC;AAC9B,SAAO,SAASQ,WAAT,CAAqBhB,GAArB,EAA0B;AAC/B,QAAIA,GAAG,IAAIE,OAAO,CAACC,GAAR,CAAYC,QAAZ,KAAyB,YAApC,EAAkD;AAChDC,MAAAA,OAAO,CAACC,IAAR,CAAa,6BAAb,EAA4CE,GAA5C,EAAiDR,GAAjD;AACD;AACF,GAJD;AAKD","sourcesContent":["import { KEY_PREFIX } from './constants';\n\nexport default function purgeStoredState(config, keys) {\n  var storage = config.storage;\n  var keyPrefix = config.keyPrefix !== undefined ? config.keyPrefix : KEY_PREFIX;\n\n  // basic validation\n  if (Array.isArray(config)) throw new Error('redux-persist: purgeStoredState requires config as a first argument (found array). An array of keys is the optional second argument.');\n  if (!storage) throw new Error('redux-persist: config.storage required in purgeStoredState');\n\n  if (typeof keys === 'undefined') {\n    // if keys is not defined, purge all keys\n    return new Promise(function (resolve, reject) {\n      storage.getAllKeys(function (err, allKeys) {\n        if (err) {\n          if (process.env.NODE_ENV !== 'production') console.warn('redux-persist: error during purgeStoredState in storage.getAllKeys');\n          reject(err);\n        } else {\n          resolve(purgeStoredState(config, allKeys.filter(function (key) {\n            return key.indexOf(keyPrefix) === 0;\n          }).map(function (key) {\n            return key.slice(keyPrefix.length);\n          })));\n        }\n      });\n    });\n  } else {\n    // otherwise purge specified keys\n    return Promise.all(keys.map(function (key) {\n      return storage.removeItem('' + keyPrefix + key, warnIfRemoveError(key));\n    }));\n  }\n}\n\nfunction warnIfRemoveError(key) {\n  return function removeError(err) {\n    if (err && process.env.NODE_ENV !== 'production') {\n      console.warn('Error storing data for key:', key, err);\n    }\n  };\n}"]},"metadata":{},"sourceType":"module"}