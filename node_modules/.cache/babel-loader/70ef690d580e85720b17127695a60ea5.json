{"ast":null,"code":"var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) {\n  return typeof obj;\n} : function (obj) {\n  return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n};\n\nimport setImmediate from '../utils/setImmediate';\n\nvar noStorage = function noStorage() {\n  /* noop */\n  return null;\n};\n\nif (process.env.NODE_ENV !== 'production') {\n  noStorage = function noStorage() {\n    console.error('redux-persist asyncLocalStorage requires a global localStorage object. Either use a different storage backend or if this is a universal redux application you probably should conditionally persist like so: https://gist.github.com/rt2zz/ac9eb396793f95ff3c3b');\n    return null;\n  };\n}\n\nfunction _hasStorage(storageType) {\n  if ((typeof window === 'undefined' ? 'undefined' : _typeof(window)) !== 'object' || !(storageType in window)) {\n    return false;\n  }\n\n  try {\n    var storage = window[storageType];\n    var testKey = 'redux-persist ' + storageType + ' test';\n    storage.setItem(testKey, 'test');\n    storage.getItem(testKey);\n    storage.removeItem(testKey);\n  } catch (e) {\n    if (process.env.NODE_ENV !== 'production') console.warn('redux-persist ' + storageType + ' test failed, persistence will be disabled.');\n    return false;\n  }\n\n  return true;\n}\n\nfunction hasLocalStorage() {\n  return _hasStorage('localStorage');\n}\n\nfunction hasSessionStorage() {\n  return _hasStorage('sessionStorage');\n}\n\nfunction getStorage(type) {\n  if (type === 'local') {\n    return hasLocalStorage() ? window.localStorage : {\n      getItem: noStorage,\n      setItem: noStorage,\n      removeItem: noStorage,\n      getAllKeys: noStorage\n    };\n  }\n\n  if (type === 'session') {\n    return hasSessionStorage() ? window.sessionStorage : {\n      getItem: noStorage,\n      setItem: noStorage,\n      removeItem: noStorage,\n      getAllKeys: noStorage\n    };\n  }\n}\n\nexport default function (type, config) {\n  var storage = getStorage(type);\n  return {\n    getAllKeys: function getAllKeys(cb) {\n      return new Promise(function (resolve, reject) {\n        try {\n          var keys = [];\n\n          for (var i = 0; i < storage.length; i++) {\n            keys.push(storage.key(i));\n          }\n\n          setImmediate(function () {\n            cb && cb(null, keys);\n            resolve(keys);\n          });\n        } catch (e) {\n          cb && cb(e);\n          reject(e);\n        }\n      });\n    },\n    getItem: function getItem(key, cb) {\n      return new Promise(function (resolve, reject) {\n        try {\n          var s = storage.getItem(key);\n          setImmediate(function () {\n            cb && cb(null, s);\n            resolve(s);\n          });\n        } catch (e) {\n          cb && cb(e);\n          reject(e);\n        }\n      });\n    },\n    setItem: function setItem(key, string, cb) {\n      return new Promise(function (resolve, reject) {\n        try {\n          storage.setItem(key, string);\n          setImmediate(function () {\n            cb && cb(null);\n            resolve();\n          });\n        } catch (e) {\n          cb && cb(e);\n          reject(e);\n        }\n      });\n    },\n    removeItem: function removeItem(key, cb) {\n      return new Promise(function (resolve, reject) {\n        try {\n          storage.removeItem(key);\n          setImmediate(function () {\n            cb && cb(null);\n            resolve();\n          });\n        } catch (e) {\n          cb && cb(e);\n          reject(e);\n        }\n      });\n    }\n  };\n}","map":{"version":3,"sources":["/Users/thieunguyen/Desktop/Project/ReactJS/threecards/node_modules/redux-offline/node_modules/redux-persist/es/defaults/asyncLocalStorage.js"],"names":["_typeof","Symbol","iterator","obj","constructor","prototype","setImmediate","noStorage","process","env","NODE_ENV","console","error","_hasStorage","storageType","window","storage","testKey","setItem","getItem","removeItem","e","warn","hasLocalStorage","hasSessionStorage","getStorage","type","localStorage","getAllKeys","sessionStorage","config","cb","Promise","resolve","reject","keys","i","length","push","key","s","string"],"mappings":"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","sourcesContent":["var _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; };\n\nimport setImmediate from '../utils/setImmediate';\n\nvar noStorage = function noStorage() {\n  /* noop */return null;\n};\nif (process.env.NODE_ENV !== 'production') {\n  noStorage = function noStorage() {\n    console.error('redux-persist asyncLocalStorage requires a global localStorage object. Either use a different storage backend or if this is a universal redux application you probably should conditionally persist like so: https://gist.github.com/rt2zz/ac9eb396793f95ff3c3b');\n    return null;\n  };\n}\n\nfunction _hasStorage(storageType) {\n  if ((typeof window === 'undefined' ? 'undefined' : _typeof(window)) !== 'object' || !(storageType in window)) {\n    return false;\n  }\n\n  try {\n    var storage = window[storageType];\n    var testKey = 'redux-persist ' + storageType + ' test';\n    storage.setItem(testKey, 'test');\n    storage.getItem(testKey);\n    storage.removeItem(testKey);\n  } catch (e) {\n    if (process.env.NODE_ENV !== 'production') console.warn('redux-persist ' + storageType + ' test failed, persistence will be disabled.');\n    return false;\n  }\n  return true;\n}\n\nfunction hasLocalStorage() {\n  return _hasStorage('localStorage');\n}\n\nfunction hasSessionStorage() {\n  return _hasStorage('sessionStorage');\n}\n\nfunction getStorage(type) {\n  if (type === 'local') {\n    return hasLocalStorage() ? window.localStorage : { getItem: noStorage, setItem: noStorage, removeItem: noStorage, getAllKeys: noStorage };\n  }\n  if (type === 'session') {\n    return hasSessionStorage() ? window.sessionStorage : { getItem: noStorage, setItem: noStorage, removeItem: noStorage, getAllKeys: noStorage };\n  }\n}\n\nexport default function (type, config) {\n  var storage = getStorage(type);\n  return {\n    getAllKeys: function getAllKeys(cb) {\n      return new Promise(function (resolve, reject) {\n        try {\n          var keys = [];\n          for (var i = 0; i < storage.length; i++) {\n            keys.push(storage.key(i));\n          }\n          setImmediate(function () {\n            cb && cb(null, keys);\n            resolve(keys);\n          });\n        } catch (e) {\n          cb && cb(e);\n          reject(e);\n        }\n      });\n    },\n    getItem: function getItem(key, cb) {\n      return new Promise(function (resolve, reject) {\n        try {\n          var s = storage.getItem(key);\n          setImmediate(function () {\n            cb && cb(null, s);\n            resolve(s);\n          });\n        } catch (e) {\n          cb && cb(e);\n          reject(e);\n        }\n      });\n    },\n    setItem: function setItem(key, string, cb) {\n      return new Promise(function (resolve, reject) {\n        try {\n          storage.setItem(key, string);\n          setImmediate(function () {\n            cb && cb(null);\n            resolve();\n          });\n        } catch (e) {\n          cb && cb(e);\n          reject(e);\n        }\n      });\n    },\n    removeItem: function removeItem(key, cb) {\n      return new Promise(function (resolve, reject) {\n        try {\n          storage.removeItem(key);\n          setImmediate(function () {\n            cb && cb(null);\n            resolve();\n          });\n        } catch (e) {\n          cb && cb(e);\n          reject(e);\n        }\n      });\n    }\n  };\n}"]},"metadata":{},"sourceType":"module"}