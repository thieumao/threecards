{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nexports.NetworkError = NetworkError;\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction NetworkError(response, status) {\n  this.name = 'NetworkError';\n  this.status = status;\n  this.response = response;\n} //$FlowFixMe\n\n/*global fetch*/\n\n\nNetworkError.prototype = Error.prototype;\nNetworkError.prototype.status = null;\n\nvar tryParseJSON = function tryParseJSON(json) {\n  if (!json) {\n    return null;\n  }\n\n  try {\n    return JSON.parse(json);\n  } catch (e) {\n    throw new Error('Failed to parse unexpected JSON response: ' + json);\n  }\n};\n\nvar getResponseBody = function getResponseBody(res) {\n  var contentType = res.headers.get('content-type');\n  return contentType.indexOf('json') >= 0 ? res.text().then(tryParseJSON) : res.text();\n};\n\nexports.default = function (effect, _action) {\n  var url = effect.url,\n      options = _objectWithoutProperties(effect, ['url']);\n\n  var headers = _extends({\n    'content-type': 'application/json'\n  }, options.headers);\n\n  return fetch(url, _extends({}, options, {\n    headers: headers\n  })).then(function (res) {\n    if (res.ok) {\n      return getResponseBody(res);\n    } else {\n      return getResponseBody(res).then(function (body) {\n        throw new NetworkError(body || '', res.status);\n      });\n    }\n  });\n};","map":{"version":3,"sources":["/Users/thieunguyen/Desktop/Project/ReactJS/web-ets-2020/node_modules/redux-offline/lib/defaults/effect.js"],"names":["Object","defineProperty","exports","value","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","NetworkError","_objectWithoutProperties","obj","keys","indexOf","response","status","name","Error","tryParseJSON","json","JSON","parse","e","getResponseBody","res","contentType","headers","get","text","then","default","effect","_action","url","options","fetch","ok","body"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports.NetworkError = NetworkError;\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nfunction NetworkError(response, status) {\n  this.name = 'NetworkError';\n  this.status = status;\n  this.response = response;\n}\n\n//$FlowFixMe\n\n/*global fetch*/\n\nNetworkError.prototype = Error.prototype;\nNetworkError.prototype.status = null;\n\nvar tryParseJSON = function tryParseJSON(json) {\n  if (!json) {\n    return null;\n  }\n  try {\n    return JSON.parse(json);\n  } catch (e) {\n    throw new Error('Failed to parse unexpected JSON response: ' + json);\n  }\n};\n\nvar getResponseBody = function getResponseBody(res) {\n  var contentType = res.headers.get('content-type');\n  return contentType.indexOf('json') >= 0 ? res.text().then(tryParseJSON) : res.text();\n};\n\nexports.default = function (effect, _action) {\n  var url = effect.url,\n      options = _objectWithoutProperties(effect, ['url']);\n\n  var headers = _extends({ 'content-type': 'application/json' }, options.headers);\n  return fetch(url, _extends({}, options, { headers: headers })).then(function (res) {\n    if (res.ok) {\n      return getResponseBody(res);\n    } else {\n      return getResponseBody(res).then(function (body) {\n        throw new NetworkError(body || '', res.status);\n      });\n    }\n  });\n};"]},"metadata":{},"sourceType":"script"}